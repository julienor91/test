<?xml version="1.0" encoding="UTF-8"?>

<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
				xmlns="http://xmlns.jcp.org/xml/ns/javaee" 
				xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd" 
				version="4.0" 
				metadata-complete="true">
	
	<!-- ********** ENREGISTREMENT DES SERVLETS ********** -->
	<!-- Remplacé par l'annotation @WebServlet("/enregistrement-client") de la servlet CreationClient -->
	<!-- Cependant cette partie est à conserver en utilisant index.jsp -->		
	<servlet>
		<servlet-name>CreationClient</servlet-name>
		<servlet-class>com.sdzee.tp.servlets.CreationClient</servlet-class>
		<!-- Pas obligatoire mais indique que la servlet sera chargée en numéro 1 lors du démarrage de l'application -->
		<!-- Cependant très utile lorsqu'il y a plusieurs servlet, cela va du chiffre 0 au plus grand -->
		<load-on-startup>0</load-on-startup>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>CreationClient</servlet-name>
		<url-pattern>/enregistrement-client</url-pattern>
	</servlet-mapping>
	
	<!-- Remplacé par l'annotation @WebServlet("/enregistrement-commande") de la servlet CreationCommande -->
	<!-- Cependant cette partie est à conserver en utilisant index.jsp -->
	<servlet>
		<servlet-name>CreationCommande</servlet-name>
		<servlet-class>com.sdzee.tp.servlets.CreationCommande</servlet-class>
		<!-- Pas obligatoire mais indique que la servlet sera chargée en numéro 2 lors du démarrage de l'application -->
		<!-- Cependant très utile lorsqu'il y a plusieurs servlet, cela va du chiffre 0 au plus grand -->
		<load-on-startup>1</load-on-startup>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>CreationCommande</servlet-name>
		<url-pattern>/enregistrement-commande</url-pattern>
	</servlet-mapping>
	
	<!-- Remplacé par l'annotation @WebServlet("/liste-client") de la servlet ListeClients -->
	<!-- Cependant cette partie est à conserver en utilisant index.jsp -->
	<servlet>
		<servlet-name>ListeClients</servlet-name>
		<servlet-class>com.sdzee.tp.servlets.ListeClients</servlet-class>
		<!-- Pas obligatoire mais indique que la servlet sera chargée en numéro 2 lors du démarrage de l'application -->
		<!-- Cependant très utile lorsqu'il y a plusieurs servlet, cela va du chiffre 0 au plus grand -->
		<load-on-startup>2</load-on-startup>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>ListeClients</servlet-name>
		<url-pattern>/liste-clients</url-pattern>
	</servlet-mapping>
	
	<!-- Remplacé par l'annotation @WebServlet("/liste-commandes") de la servlet ListeCommandes -->
	<!-- Cependant cette partie est à conserver en utilisant index.jsp -->
	<servlet>
		<servlet-name>ListeCommandes</servlet-name>
		<servlet-class>com.sdzee.tp.servlets.ListeCommandes</servlet-class>
		<!-- Pas obligatoire mais indique que la servlet sera chargée en numéro 2 lors du démarrage de l'application -->
		<!-- Cependant très utile lorsqu'il y a plusieurs servlet, cela va du chiffre 0 au plus grand -->
		<load-on-startup>3</load-on-startup>
	</servlet>
	
	<servlet-mapping>
		<servlet-name>ListeCommandes</servlet-name>
		<url-pattern>/liste-commandes</url-pattern>
	</servlet-mapping>
	<!-- ********** FIN DE L'ENREGISTREMENT DES SERVLETS ********** -->
	
	<!-- ********************     ********************     ********************     ******************** -->
	
	<!-- ********** AFIN DE PLACER LES DIRECTIVES INCLUES DANS LA TAGLIBS A L'INTERIEUR DE TOUTES LES JSP ********** -->
	<jsp-config>
		<!-- CECI EST POUR FORCER A INCLURE LA TAGLIBS DANS TOUTES LES JSP -->
		<jsp-property-group>
			<url-pattern>*.jsp</url-pattern>
			<include-prelude>/WEB-INF/lib/taglibs.jsp</include-prelude>
		</jsp-property-group>
		<!-- CECI EST POUR FORCER L'ENCODAGE UTF-8 DANS TOUTES LES JSP -->
		<!-- REMPLACE <%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%> -->
		<!-- Si les paramètres du formulaire sont envoyés avec la méthode post alors ils ne seront plus encodés en UTF-8 mais par le navigateur en ISO -->
		<!-- L'encodage des paramètres du formulaire envoyé avec la méthode post devra se faire du côté du serveur web Apache -->
	    <jsp-property-group>
	        <url-pattern>*.jsp</url-pattern>
	        <page-encoding>UTF-8</page-encoding>
	    </jsp-property-group>
	</jsp-config>
	<!-- ********** FIN DES DIRECTIVES DE LA TAGLIBS ********** -->
	
	<!-- ********************     ********************     ********************     ******************** -->
	
	<!-- ********** AFIN D'ENCODER TOUS LES PARAMETRES QUI ARRIVENT DANS LE SERVEUR WEB APACHE ********** -->
	<!-- Filtre pour encoder les parmètres envoyés avec la méthode post en UTF-8 lorsqu'ils sont traités dans les servlets avant d'être envoyés dans les beans -->
	<!-- Les jsps déjà encodées en UTF-8 récupèrent ainsi les expressions language directement dans les beans en UTF-8 et non plus en ISO-8859-1 par défault -->
	<filter>
		<filter-name>SetCharacterEncoding</filter-name>
		<filter-class>org.apache.catalina.filters.SetCharacterEncodingFilter</filter-class>
		<init-param>
			<param-name>encoding</param-name>
			<param-value>UTF-8</param-value>
		</init-param>
		<init-param>
			<param-name>ignore</param-name>
			<param-value>false</param-value>
		</init-param>
	</filter>
	<filter-mapping>
		<filter-name>SetCharacterEncoding</filter-name>
		<url-pattern>/*</url-pattern>
	</filter-mapping>
	<!-- ********** FIN ENCODAGE SERVEUR WEB APACHE ********** -->
	
</web-app>